{"ast":null,"code":"var _jsxFileName = \"/Users/blatde/Desktop/Projects/callistoDialogueTool/callisto-dialogue-tool/src/components/DialogueForm.js\";\nimport React, { Fragment, Component } from \"react\";\nimport 'materialize-css';\nimport { Button, Card, Row, Col, CardPanel } from 'react-materialize';\nimport InitDialogueForm from \"./InitDialogueForm\";\nimport ScriptBuilder from \"./ScriptBuilder\";\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\nimport theme from \"prism-react-renderer/themes/nightOwl\";\nimport Editor from 'react-simple-code-editor';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst styles = {\n  root: {\n    boxSizing: 'border-box',\n    fontFamily: '\"Dank Mono\", \"Fira Code\", monospace',\n    ...theme.plain\n  }\n};\n\nclass DialogueForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      scriptName: '',\n      leftParticipants: [],\n      rightParticipants: [],\n      initScript: false,\n      availableSpeakers: [],\n      scriptChunks: [],\n      textToSpeak: '',\n      activeSpeaker: {},\n      leftPortraits: [],\n      rightPortraits: [],\n      lineNumber: 0,\n      dialogueCreate: false,\n      dialogueInCode: ''\n    };\n\n    this.handleInputChange = e => {\n      let {\n        value,\n        name\n      } = e.target;\n      this.setState({ ...this.state,\n        [name]: value\n      });\n      console.log(this.state);\n    };\n\n    this.handleLeftDropdownChange = leftParticipants => {\n      this.setState({\n        leftParticipants\n      });\n    };\n\n    this.handleRightDropdownChange = rightParticipants => {\n      this.setState({\n        rightParticipants\n      });\n    };\n\n    this.handleInitialDialogueSubmit = () => {\n      this.getAvailableSpeakers();\n      this.setState({\n        initScript: true\n      });\n    };\n\n    this.handleSpeakerChange = activeSpeaker => {\n      this.setState({\n        activeSpeaker\n      });\n    };\n\n    this.handleLeftPortraitsChange = leftPortraits => {\n      this.setState({\n        leftPortraits\n      });\n    };\n\n    this.handleRightPortraitsChange = rightPortraits => {\n      this.setState({\n        rightPortraits\n      });\n    };\n\n    this.getAvailableSpeakers = () => {\n      let availableSpeakers = [];\n      this.state.rightParticipants.map(part => availableSpeakers.push(part));\n      this.state.leftParticipants.map(part => availableSpeakers.push(part));\n      this.setState({\n        availableSpeakers\n      });\n    };\n\n    this.copyToClipboard = () => {\n      navigator.clipboard.writeText(this.state.dialogueInCode);\n    };\n\n    this.handleNewLineClick = () => {\n      const scriptChunk = {\n        activeSpeaker: this.state.activeSpeaker,\n        textToSpeak: this.state.textToSpeak,\n        leftPortraits: this.state.leftPortraits,\n        rightPortraits: this.state.rightPortraits,\n        lineNumber: this.state.lineNumber\n      };\n      const scriptChunks = this.state.scriptChunks;\n      scriptChunks.push(scriptChunk);\n      this.setState({\n        scriptChunks,\n        textToSpeak: '',\n        lineNumber: this.state.lineNumber + 1\n      }, () => console.log(this.state));\n    };\n\n    this.createDialogue = () => {\n      let dialogueBlock = [];\n      this.state.scriptChunks.map(item => {\n        dialogueBlock.push(`\n      ///Line ${item.lineNumber}\n      myText[i] = \"${item.textToSpeak}\";\n      mySpeaker[i] = ${item.activeSpeaker.value};\n      leftPortrait[i] = [${item.leftPortraits.map(item => {\n          return item.value;\n        })}];\n      rightPortrait[i] = [${item.rightPortraits.map(item => {\n          return item.value;\n        })}];\n      i++;\n\n      `);\n        return dialogueBlock;\n      });\n      const dialogueInCode = `function ${this.state.scriptName}(){\n      var i = 0;\n\n      ${dialogueBlock.join('')}\n\n  }`;\n      this.setState({\n        dialogueInCode: dialogueInCode,\n        dialogueCreate: true\n      });\n    };\n\n    this.highlight = code => /*#__PURE__*/_jsxDEV(Highlight, { ...defaultProps,\n      theme: theme,\n      code: code,\n      language: \"jsx\",\n      children: ({\n        className,\n        style,\n        tokens,\n        getLineProps,\n        getTokenProps\n      }) => /*#__PURE__*/_jsxDEV(Fragment, {\n        children: tokens.map((line, i) => /*#__PURE__*/_jsxDEV(\"div\", { ...getLineProps({\n            line,\n            key: i\n          }),\n          children: line.map((token, key) => /*#__PURE__*/_jsxDEV(\"span\", { ...getTokenProps({\n              token,\n              key\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 41\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }, this);\n\n    this.onValueChange = code => {\n      this.setState({\n        dialogueInCode: code\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row center\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"white-text\",\n          children: \"Callisto Dialogue Tool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InitDialogueForm, {\n        onInputChange: this.handleInputChange,\n        onLeftDropdownChange: this.handleLeftDropdownChange,\n        onRightDropdownChange: this.handleRightDropdownChange,\n        scriptName: this.state.scriptName,\n        leftParticipants: this.state.leftParticipants,\n        rightParticipants: this.state.rightParticipants,\n        dialogueSubmit: this.handleInitialDialogueSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), this.state.initScript ? /*#__PURE__*/_jsxDEV(ScriptBuilder, {\n        lineNumber: this.state.lineNumber,\n        addNewLine: this.handleNewLineClick,\n        availableSpeakers: this.state.availableSpeakers,\n        handleSpeakerChange: this.handleSpeakerChange,\n        handleTextChange: this.handleInputChange,\n        textToSpeak: this.state.textToSpeak,\n        handleLeftPortraitsChange: this.handleLeftPortraitsChange,\n        leftPortraits: this.state.leftPortraits,\n        handleRightPortraitsChange: this.handleRightPortraitsChange,\n        rightPortraits: this.state.rightPortraits\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this) : null, /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.createDialogue,\n        children: \"Create Script\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), this.state.dialogueCreate ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Editor, {\n          value: this.state.dialogueInCode,\n          onValueChange: this.onValueChange,\n          highlight: this.highlight,\n          padding: 10,\n          style: styles.root\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.copyToClipboard,\n          children: \"Copy script to clipboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default DialogueForm;","map":{"version":3,"sources":["/Users/blatde/Desktop/Projects/callistoDialogueTool/callisto-dialogue-tool/src/components/DialogueForm.js"],"names":["React","Fragment","Component","Button","Card","Row","Col","CardPanel","InitDialogueForm","ScriptBuilder","Highlight","defaultProps","theme","Editor","styles","root","boxSizing","fontFamily","plain","DialogueForm","state","scriptName","leftParticipants","rightParticipants","initScript","availableSpeakers","scriptChunks","textToSpeak","activeSpeaker","leftPortraits","rightPortraits","lineNumber","dialogueCreate","dialogueInCode","handleInputChange","e","value","name","target","setState","console","log","handleLeftDropdownChange","handleRightDropdownChange","handleInitialDialogueSubmit","getAvailableSpeakers","handleSpeakerChange","handleLeftPortraitsChange","handleRightPortraitsChange","map","part","push","copyToClipboard","navigator","clipboard","writeText","handleNewLineClick","scriptChunk","createDialogue","dialogueBlock","item","join","highlight","code","className","style","tokens","getLineProps","getTokenProps","line","i","key","token","onValueChange","render"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from \"react\";\nimport 'materialize-css';\nimport { Button, Card, Row, Col, CardPanel} from 'react-materialize';\nimport InitDialogueForm from \"./InitDialogueForm\";\nimport ScriptBuilder from \"./ScriptBuilder\";\nimport Highlight, { defaultProps } from \"prism-react-renderer\";\nimport theme from \"prism-react-renderer/themes/nightOwl\";\nimport Editor from 'react-simple-code-editor';\n\nconst styles = {\n  root: {\n    boxSizing: 'border-box',\n    fontFamily: '\"Dank Mono\", \"Fira Code\", monospace',\n    ...theme.plain\n  }\n}\n\nclass DialogueForm extends Component {\n  state = {\n    scriptName: '',\n    leftParticipants: [],\n    rightParticipants: [],\n    initScript: false,\n    availableSpeakers: [],\n    scriptChunks: [],\n    textToSpeak: '',\n    activeSpeaker: {},\n    leftPortraits: [],\n    rightPortraits: [],\n    lineNumber: 0,\n    dialogueCreate: false,\n    dialogueInCode: ''\n  }\n  \n  handleInputChange = e => {\n    let {value, name} = e.target;\n    this.setState({\n      ...this.state,\n      [name]: value\n    });\n    console.log(this.state)\n  }\n\n  handleLeftDropdownChange = (leftParticipants) => {\n    this.setState({leftParticipants})\n  }\n\n  handleRightDropdownChange = (rightParticipants) => {\n    this.setState({rightParticipants});\n  };\n\n  handleInitialDialogueSubmit = () => {\n    this.getAvailableSpeakers();\n    this.setState({\n      initScript: true\n    })\n  }\n\n  handleSpeakerChange = (activeSpeaker) => {\n    this.setState({activeSpeaker});\n  }\n\n  handleLeftPortraitsChange = (leftPortraits) => {\n    this.setState({leftPortraits});\n  }\n\n  handleRightPortraitsChange = (rightPortraits) => {\n    this.setState({rightPortraits});\n  }\n\n  getAvailableSpeakers = () => {\n    let availableSpeakers = [];\n    this.state.rightParticipants.map(part => availableSpeakers.push(part));\n    this.state.leftParticipants.map(part => availableSpeakers.push(part));\n\n    this.setState({availableSpeakers});\n\n  }\n\n  copyToClipboard = () => {\n    navigator.clipboard.writeText(this.state.dialogueInCode)\n  }\n\n  handleNewLineClick = () => {\n    const scriptChunk = {\n      activeSpeaker: this.state.activeSpeaker,\n      textToSpeak: this.state.textToSpeak,\n      leftPortraits: this.state.leftPortraits,\n      rightPortraits: this.state.rightPortraits,\n      lineNumber: this.state.lineNumber\n    }\n    const scriptChunks = this.state.scriptChunks;\n    scriptChunks.push(scriptChunk);\n    this.setState({\n      scriptChunks,\n      textToSpeak: '',\n      lineNumber: this.state.lineNumber + 1\n    }, () => console.log(this.state));\n\n\n  }\n\n  createDialogue = () => {\n    \n    let dialogueBlock = []\n    this.state.scriptChunks.map(item => {\n      dialogueBlock.push(`\n      ///Line ${item.lineNumber}\n      myText[i] = \"${item.textToSpeak}\";\n      mySpeaker[i] = ${item.activeSpeaker.value};\n      leftPortrait[i] = [${item.leftPortraits.map(item => {return item.value})}];\n      rightPortrait[i] = [${item.rightPortraits.map(item => {return item.value})}];\n      i++;\n\n      `\n      )\n      return dialogueBlock\n    })\n    \n    const dialogueInCode =\n    `function ${this.state.scriptName}(){\n      var i = 0;\n\n      ${dialogueBlock.join('')}\n\n  }`\n\n    this.setState({\n      dialogueInCode: dialogueInCode,\n      dialogueCreate: true\n    })\n  }\n\n  highlight = code => (\n    <Highlight {...defaultProps} theme={theme} code={code} language=\"jsx\">\n      {({ className, style, tokens, getLineProps, getTokenProps }) => (\n        <Fragment>\n          {tokens.map((line, i) => (\n            <div {...getLineProps({ line, key: i })}>\n              {line.map((token, key) => <span {...getTokenProps({ token, key })} />)}\n            </div>\n          ))}\n        </Fragment>\n      )}\n    </Highlight>\n  );\n\n  onValueChange = code => {\n    this.setState({\n      dialogueInCode: code\n    })\n  }\n  \n\n  render() {\n    return(\n      <div className='container'>\n        <div className='row center'>\n          <h1 className='white-text'>Callisto Dialogue Tool</h1>\n        </div>\n        \n        <InitDialogueForm\n          onInputChange={this.handleInputChange}\n          onLeftDropdownChange={this.handleLeftDropdownChange}\n          onRightDropdownChange={this.handleRightDropdownChange}\n          scriptName={this.state.scriptName}\n          leftParticipants={this.state.leftParticipants}\n          rightParticipants={this.state.rightParticipants}\n          dialogueSubmit={this.handleInitialDialogueSubmit}\n        />\n        {this.state.initScript ? (\n            <ScriptBuilder\n              lineNumber={this.state.lineNumber}\n              addNewLine={this.handleNewLineClick}\n              availableSpeakers={this.state.availableSpeakers}\n              handleSpeakerChange={this.handleSpeakerChange}\n              handleTextChange={this.handleInputChange}\n              textToSpeak={this.state.textToSpeak}\n              handleLeftPortraitsChange={this.handleLeftPortraitsChange}\n              leftPortraits={this.state.leftPortraits}\n              handleRightPortraitsChange={this.handleRightPortraitsChange}\n              rightPortraits={this.state.rightPortraits}\n            />\n          )\n        : null}\n        <Button\n          onClick={this.createDialogue}\n        >\n          Create Script\n        </Button>\n        \n\n        {this.state.dialogueCreate ?  \n        <> \n          <Editor \n            value={this.state.dialogueInCode}\n            onValueChange={this.onValueChange}\n            highlight={this.highlight}\n            padding={10}\n            style={styles.root}\n          />\n          <Button onClick={this.copyToClipboard}>\n            Copy script to clipboard\n          </Button>\n        </>: null}\n\n        \n      </div>\n    );\n  }\n\n}\n\nexport default DialogueForm;"]},"metadata":{},"sourceType":"module"}